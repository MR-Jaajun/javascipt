"use strict";$(function(){$(".top .citytab span").hover(function(){$(this).addClass("active").siblings().removeClass();var i=$(this).index();$(".top .citylist").eq(i).addClass("listblock").siblings().removeClass("listblock")}),$("#nav .catalogs").hover(function(){$("#nav .catalogs .catalogs-list").css({display:"block",height:"463"})},function(){$("#nav .catalogs .catalogs-list").css("display","none")}),$("#nav .catalogs-list .item").hover(function(){var i=$(this).index();$("#nav .catalogs-list .item .sub-item").eq(i).addClass("itemblock")},function(){var i=$(this).index();$("#nav .catalogs-list .item .sub-item").eq(i).removeClass("itemblock")});var n=$("#logo").outerHeight();$(window).scroll(function(){var i=window.scrollY;n<i?$("#logo").addClass("fix"):$("#logo").removeClass("fix"),500<i?$("#backtop .topbtn").css("display","block"):$("#backtop .topbtn").css("display","none"),310<i?$("#floor-jump").css("display","block"):$("#floor-jump").css("display","none")}),$("#backtop .topbtn").click(function(){var i=window.scrollY,n=setInterval(function(){(i-=80)<=0?(clearInterval(n),$(window).scrollTop(0)):$(window).scrollTop(i)},24)});var e=$(".banner li").eq(0).outerWidth();$(".banner li").css("left",e),$(".banner li").eq(0).css("left",0);var i=null,s=0;function l(){$(".banner li").eq(s).stop().animate({left:-e},1e3,"linear"),++s>=$(".banner li").size()&&(s=0),$(".banner li").eq(s).css("left",e),$(".banner li").eq(s).stop().animate({left:0},1e3,"linear"),o()}i=setInterval(l,2500),$("#banner").hover(function(){clearInterval(i),$("#prev").css("display","block"),$("#next").css("display","block")},function(){$("#prev").css("display","none"),$("#next").css("display","none"),i=setInterval(l,2500)}),$("#prev").click(function(){$(".banner li").eq(s).stop().animate({left:e},1500,"linear"),--s<=-1&&(s=$(".banner li").size()-1),$(".banner li").eq(s).css("left",-e),$(".banner li").eq(s).stop().animate({left:0},1500,"linear"),o()}),$("#next").click(function(){l()});var a="";function o(){$(".light").children().eq(s).addClass("active").siblings().removeClass("active")}$(".banner li").each(function(i){a+="<li>"+(i+1)+"</li>"}),$(".light").html(a),$(".light").children().eq(0).addClass("active"),$(".light").on("click","li",function(){var i=$(this).index();s<i&&($(".banner li").eq(s).animate({left:-e},1e3,"linear"),$(".banner li").eq(i).css("left",e),$(".banner li").eq(i).animate({left:0},1e3,"linear")),i<s&&($(".banner li").eq(s).animate({left:e},1e3,"linear"),$(".banner li").eq(i).css("left",-e),$(".banner li").eq(i).animate({left:0},1e3,"linear")),s=i,o()}),$("#floor-jump a").hover(function(){$(this).addClass("hov")},function(){$(this).removeClass("hov")}),$("#floor-jump a").click(function(){$(this).addClass("hov1").siblings().removeClass("hov1");var i=$(this).index(),n=$("#main .main1").eq(i).offset().top;$(window).scrollTop(n)}),$(window).scroll(function(){for(var i=window.scrollY,n=$("#main .main1").outerHeight(),e=$("#main .main1").offset().top,s=0;s<$("#main .main1").size();s++){e+n*(s-1)+200<i&&$("#floor-jump a").eq(s).addClass("hov1").siblings().removeClass("hov1","hov")}});var t=location.search.slice(1),c=getCookie("username");if(c==t){$("#login").css("display","none"),$("#registers").css("display","none");setTimeout(function(){$("#loginName").html(c).css("display","inline-block"),$("#loginout").css("display","inline-block")},1500)}else $("#login").css("display","block"),$("#registers").css("display","block"),$("#loginName").css("display","none"),$("#loginout").css("display","none");$("#loginout a").click(function(){removeCookie("username","",-1),$("#loginName").css("display","none"),$("#loginout").css("display","none"),location.href="main.html"});var r="";$(".search-btn").click(function(){sleok=!0,r=$("#keyword").val(),$.ajax({type:"get",url:"api/list.php",async:!0,data:{find:r},success:function(i){JSON.parse(i);window.open("html/list.html?"+r)}})}),$.ajax({type:"get",url:"api/price.php",async:!0,success:function(i){var n=JSON.parse(i),e=n.total[0]["SUM(quantity)"],s=n.sPrice[0]["SUM(sumprice)"];$(".totleNum b").html(e),$(".totlePrice").html(s)}})});