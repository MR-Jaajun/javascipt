"use strict";$(function(){var f=randomCode();function i(i,n,f,o,r){$(i).html("<i></i>"+f).css("color",o),$(n).css("background","url(../img/bg_login.png) no-repeat "+r+" -200px")}$(".tx_yzm").html(f),$(".huan").click(function(){var i=randomColor(16);$(".tx_yzm").css("color",i);var n=randomNum(10,30);$(".tx_yzm").css("font-size",n+"px");var f=randomCode();$(".tx_yzm").html(f)}),$("#yzm").blur(function(){$(this).val().trim()?$(this).val().toLocaleLowerCase()==$(".tx_yzm").html().toLocaleLowerCase()?i(".form .inf1 .inf",".form .inf1 .inf i","验证码正确","#58bc58","0px"):i(".form .inf1 .inf",".form .inf1 .inf i","验证码错误","red","-40px"):i(".form .inf1 .inf",".form .inf1 .inf i","验证码不能为空","#444444","-20px")}),$("#phone").blur(function(){$(this).val().trim()?checkReg.tel($(this).val())||checkReg.email($(this).val())?(i(".form .inf2 .inf",".form .inf2 .inf i","格式正确","#58bc58","0px"),$.ajax({type:"post",url:"../api/checkname.php",async:!0,data:{name:$("#phone").val(),pwd:$("#pwd").val()},success:function(i){"no"==i?$("#ajax_inf").html("已存在该账号").css("color","red"):$("#ajax_inf").html("可以注册").css("color","#58bc58")}})):i(".form .inf2 .inf",".form .inf2 .inf i","手机号格式错误","red","-20px"):i(".form .inf2 .inf",".form .inf2 .inf i","手机号不能为空","#444444","-20px")}),$("#pwd").blur(function(){$(this).val().trim()?checkReg.psweasy($(this).val())?(i(".form .inf4 .inf",".form .inf4 .inf i","密码格式正确","#58bc58","0px"),$("#re_pwd").blur(function(){$(this).val().trim()?checkReg.pwwagain($(this).val(),$("#pwd").val())?i(".form .inf5 .inf",".form .inf5 .inf i","两次密码一致","#58bc58","0px"):i(".form .inf5 .inf",".form .inf5 .inf i","两次密码不一致","red","-40px"):i(".form .inf5 .inf",".form .inf5 .inf i","请再次填写","#444444","-20px")})):i(".form .inf4 .inf",".form .inf4 .inf i","密码格式不正确","red","-40px"):i(".form .inf4 .inf",".form .inf4 .inf i","密码不能为空","#444444","-20px")}),$("#tab1chk").click(function(){1==$("#tab1chk").prop("checked")?$(".main .form #PhoneReg").css("background","#008842"):$(".main .form #PhoneReg").css("background","#666666")});f="";$("#Phone_SendCode").click(function(){var i=$("#phone").val().trim();$.ajax({type:"post",url:"../api/message.php",async:!0,data:{userphone:i},success:function(i){var n=JSON.parse(i);f=n.phonecode}})}),$("#ph_yzm").blur(function(){$(this).val()?$(this).val()==f?i(".form .inf3 .inf",".form .inf1 .inf i","验证码正确","#58bc58","0px"):i(".form .inf3 .inf",".form .inf1 .inf i","验证码正确","red","-40px"):i(".form .inf3 .inf",".form .inf3 .inf i","手机验证码不能为空","#444444","-20px")}),$("#PhoneReg").click(function(){1==$("#tab1chk").prop("checked")?(i(".main .form .clause .pass-error",".main .form .clause .pass-error i","","","50"),$("#yzm").val()&&$("#phone").val()&&$("#pwd").val()==$("#re_pwd").val()&&$("#ph_yzm").val()&&$("#tab1chk").prop("checked")?$.ajax({type:"post",url:"../api/reg.php",async:!0,data:{name:$("#phone").val(),pwd:$("#pwd").val()},success:function(i){"yes"==i?location.href="login.html?"+$("#phone").val():alert("注册失败，请检查所填写信息是否有误")}}):alert("有信息填写错误喔！")):i(".main .form .clause .pass-error",".main .form .clause .pass-error i","请接受服务协议","red","-40px")})});